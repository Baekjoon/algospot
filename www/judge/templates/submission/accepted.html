{% extends "judge-base.html" %}
{% load common_tags %}
{% block title %} 
	{{ title }}
{% endblock %}


{% block page_title %}
	정답 목록: {{ problem.name }}
{% endblock %}

{% block page_tabs %}
{% endblock %}

{% block page_contents %}
	{% load judge_tags %}
	<section class="problem_info">
		<h4>문제 정보</h4>
		<ul class="problem_info tabular">
			<li class="header">
				<ul>
					<li class="problemid">문제 ID</li>
					<li class="timelimit">시간 제한</li>
					<li class="memorylimit">메모리 제한</li>
					<li class="submissions">제출 회수</li>
					<li class="accepted">정답 회수 (비율)</li>
				</ul>
			</li>
			<li class="content">
				<ul>
					<li class="problem-id"><a href="{% url judge-problem-read problem.slug %}">{{ problem.slug }}</a></li>
					<li class="timelimit"><b>{{ problem.time_limit }}</b>ms</li>
					<li class="memorylimit"><b>{{ problem.memory_limit }}</b>kb</li>
					<li class="submissions"><b>{{ problem.submissions_count }}</b></li>
					<li class="accepted"><b>{{ problem.accepted_count }}</b> (<b>{% percentage problem.accepted_count problem.submissions_count %}</b>%)</li>
				</ul>
			</li>
			<li class="header">
				<ul>
					<li class="author">출제자</li>
					<li class="source">출처</li>
					<li class="category">분류</li>
				</ul>
			</li>
			<li class="content">
				<ul>
					<li class="author">{{ problem.user|print_username }}</li>
					<li class="source"><a href="{% url judge-problem-list %}?source={{ problem.source|urlencode }}">{{ problem.source }}</a></li>
					<li class="category"><a href="#">보기</a></li>
				</ul>
			</li>
		</ul>
	</section>
	<section class="kor">
		<h4>답안 목록</h4>
		<table class="submissions_accepted">
			<thead>
				<tr>
					<th class="id">#</th>
					<th class="user">제출자</th>
					<th class="language">언어</th>
					<th class="length">
						{% if order_by == "length" %}
							<a href="{% url judge-submission-accepted problem.slug "-length" 1 %}">
						{% else %}
							<a href="{% url judge-submission-accepted problem.slug "length" 1 %}">
						{% endif %}
						길이
						{% if order_by == "length" %} ↓ {% endif %}
						{% if order_by == "-length" %} ↑ {% endif %}
						</a>
					</th>
					<th class="stats">

						{% if order_by == "time" %}
							<a href="{% url judge-submission-accepted problem.slug "-time" 1 %}">
						{% else %}
							<a href="{% url judge-submission-accepted problem.slug "time" 1 %}">
						{% endif %}
						시간/메모리
						{% if order_by == "time" %} ↓ {% endif %}
						{% if order_by == "-time" %} ↑ {% endif %}
						</a>
					</th>
					<th class="submitted_on">
						제출시간
					</th>
				</tr>
			</thead>
			<tbody>
				{% for sub in pagination.page.object_list %}
					<tr>
						<td class="id">
							{% if sub.is_public %}
								{{ sub.id }}
							{% else %}
								NP
							{% endif %}
						</td>
						<td class="user">{{ sub.user|print_username }}</td>
						<td class="language">
							{% if user == sub.user or user.is_superuser %}
								<a href="{% url judge-submission-details sub.id %}">
								{% endif %}					
								{{ sub.language }}
								{% if user == sub.user or user.is_superuser %}
								</a>
							{% endif %}					
						</td>
						<td class="length">{{ sub.length|print_length }}</td>
						<td class="stats">
							{% if sub.has_run %}
								{{ sub.time }}ms/{{ sub.memory }}KB
							{% endif %}
						</td>
						<td class="submitted_on">{{ sub.submitted_on|print_datetime}}</td>
					</tr>
				{% endfor %}
			</tbody>
		</table>
	</section>
	<section class="pagination">
		{{ pagination.render }}
	</section>
{% endblock %}
